<?php
/**
 * View Name: sign-up
 * Path: view/sign-up
 * @param array $data arguments passed from controller
 */

$value = has_flash('form_data') ? (object) get_flash('form_data') : false;
?>

{{ title        = "Sign up | <?=APP_NAME?>" }}
{{ keywords     = "signup" }}
{{ description  = "Sign Up" }}
{{ body_class   = "auth" }}

{{ content }}
<section class="auth">
  <div class="auth-card">
    <h1 class="auth-title">Sign Up</h1>
    <form action="<?=AUTH_PATHS['signup']?>" method="post" class="form">
      <?=CSRF_FIELD?>

      <div class="form-grid">
        <div class="form-group">
          <input
            type="text"
            name="first_name"
            class="form-input <?=has_error('first_name') ? 'is-error' : '' ?>"
            placeholder="First Name"
            value="<?=$value->first_name ?? '' ?>"
          >
          <?=show_error('first_name', '<span class="form-error">##</span>')?>
        </div>

        <div class="form-group">
          <input
            type="text"
            name="last_name"
            class="form-input <?=has_error('last_name') ? 'is-error' : '' ?>"
            placeholder="Last Name"
            value="<?=$value->last_name ?? '' ?>"
          >
          <?=show_error('last_name', '<span class="form-error">##</span>')?>
        </div>
      </div>

      <div class="form-group">
        <input
          type="email"
          name="email"
          class="form-input <?=has_error('email') ? 'is-error' : '' ?>"
          placeholder="Email Address"
          value="<?=$value->email ?? '' ?>"
        >
        <?=show_error('email', '<span class="form-error">##</span>')?>
        <?=show_error('username', '<span class="form-error">##</span>')?>
      </div>

      <div class="form-group">
        <input
          type="password"
          name="password"
          class="form-input <?=has_error('password') ? 'is-error' : '' ?>"
          placeholder="Password"
          autocomplete="new-password"
        >
        <?=show_error('password', '<span class="form-error">##</span>')?>
      </div>

      <div class="form-group">
        <input
          type="password"
          name="password_confirmation"
          class="form-input <?=has_error('password_confirmation') ? 'is-error' : '' ?>"
          placeholder="Confirm Password"
          autocomplete="new-password"
        >
        <?=show_error('password_confirmation', '<span class="form-error">##</span>')?>
      </div>

      <?php if (has_error('success') || has_error('error')) : ?>
        <div class="form-group">
          <?=show_error('success', '<p class="form-message success">##</p>')?>
          <?=show_error('error', '<p class="form-message error">##</p>')?>
        </div>
      <?php endif; ?>

      <div class="form-group">
        <button type="submit" class="app-button app-button--primary is-full">
          Sign Up
        </button>
      </div>
    </form>

    <div class="auth-footer">
      Already have an account?
      <a href="<?=AUTH_PATHS['login']?>">Login</a>
    </div>

  </div>
</section>
{{ content-end }}
