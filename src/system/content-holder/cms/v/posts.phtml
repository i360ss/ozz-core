<?php
/**
 * View Name: posts
 * Path: view/admin/posts
 * 
 * @param array $data arguments passed from controller or route
 */
?>
{{ title        = "Post types" }}
{{ body_class   = "post-types" }}

{{ content }}
  <h1 class="heading">Post types</h1>

  <div class="listing-s1">
    <div class="listing-s1__top-bar">
      <div class="align-left">
        <span>Post Types: <strong><?=count($post_data)?></strong></span> | 
        <span>Total Posts: <strong><?=$total_posts?></strong></span>
      </div>
    </div>

    <div class="table">
      <?php foreach ($post_data as $type => $value) : ?>
        <div class="table__tr-wrapper">
          <a href="/admin/posts/<?=$type?>" class="table__row">
            <div class="table__cell">
              <span class="listing-s1__title"><?=$value['label']?></span>
              <?php if (isset($value['note']) && $value['note'] !== '') :?>
                <span class="note light-text"><?=$value['note']?></span>
              <?php endif; ?>
            </div>

            <div class="table__cell">
              <span class="slug"><?=$type?></span>
            </div>

            <div class="table__cell align-right f-14">
              <strong><?=$value['post_count']?></strong> Posts
              &nbsp; | &nbsp;
              <strong><?=$value['fields']?></strong> Fields
            </div>
          </a>

          <div class="table__action">
            <div class="table__cell align-right">
              <a href="/admin/posts/create/<?=$type?>" class="button mini">Add New Post</a>
            </div>
          </div>
        </div>
      <?php endforeach; ?>
    </div>
  </div>
{{ content-end }}